<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.baofu.international.global.account.core.dal.mapper.AuthApplyMapper">
    <resultMap id="BaseResultMap" type="com.baofu.international.global.account.core.dal.model.AuthApplyDo">
        <id column="ID" jdbcType="BIGINT" property="id"/>
        <result column="AUTH_APPLY_NO"  jdbcType="BIGINT"       property="authApplyNo"/>
        <result column="USER_INFO_NO"   jdbcType="BIGINT"       property="userInfoNo"/>
        <result column="USER_NO"        jdbcType="BIGINT"       property="userNo"/>
        <result column="USER_TYPE"      jdbcType="TINYINT"      property="userType"/>
        <result column="APPLY_AT"       jdbcType="TIMESTAMP"    property="applyAt"/>
        <result column="APPLY_TYPE"     jdbcType="TINYINT"      property="applyType"/>
        <result column="AUTH_METHOD"    jdbcType="TINYINT"      property="authMethod"/>
        <result column="AUTH_STATUS"    jdbcType="TINYINT"      property="authStatus"/>
        <result column="FAIL_REASON"    jdbcType="VARCHAR"      property="failReason"/>
        <result column="REMARKS"        jdbcType="VARCHAR"      property="remarks"/>
        <result column="CREATE_AT"      jdbcType="TIMESTAMP"    property="createAt"/>
        <result column="CREATE_BY"      jdbcType="VARCHAR"      property="createBy"/>
        <result column="UPDATE_AT"      jdbcType="TIMESTAMP"    property="updateAt"/>
        <result column="UPDATE_BY"      jdbcType="VARCHAR"      property="updateBy"/>
    </resultMap>
    <sql id="Base_Column_List">
    ID, AUTH_APPLY_NO, USER_NO, USER_TYPE, APPLY_AT, APPLY_TYPE, AUTH_METHOD, AUTH_STATUS, 
    FAIL_REASON, REMARKS, CREATE_AT, CREATE_BY, UPDATE_AT, UPDATE_BY,USER_INFO_NO
  </sql>
    <insert id="insert" parameterType="com.baofu.international.global.account.core.dal.model.AuthApplyDo">
    INSERT INTO T_AUTH_APPLY (
      AUTH_APPLY_NO,
      USER_NO,
      USER_TYPE,
      APPLY_AT,
      APPLY_TYPE,
      AUTH_METHOD,
      AUTH_STATUS,
      FAIL_REASON,
      REMARKS,
      CREATE_AT,
      CREATE_BY,
      UPDATE_AT,
      UPDATE_BY,
      USER_INFO_NO)
    VALUES (
      #{authApplyNo,jdbcType=BIGINT},
      #{userNo,jdbcType=BIGINT},
      #{userType,jdbcType=TINYINT},
      NOW(),
      #{applyType,jdbcType=TINYINT},
      #{authMethod,jdbcType=TINYINT},
      #{authStatus,jdbcType=TINYINT},
      #{failReason,jdbcType=VARCHAR},
      #{remarks,jdbcType=VARCHAR},
      NOW(),
      #{createBy,jdbcType=VARCHAR},
      NOW(),
      #{updateBy,jdbcType=VARCHAR},
      #{userInfoNo,jdbcType=BIGINT})
  </insert>

    <!-- 更新资质信息编号 -->
    <update id="updateAuthApply">
        UPDATE T_AUTH_APPLY
        SET
          USER_INFO_NO = #{userInfoNo,jdbcType=BIGINT},
          UPDATE_AT = NOW()
        WHERE
          AUTH_APPLY_NO = #{authApplyNo,jdbcType=BIGINT}
  </update>
</mapper>